# Defect Log for CleanCity

| Defect ID | Defect Description | Steps to Reproduce | Severity | Status |
|---|---|---|---|---|
| BUG-001 | **Registration form does not create a new user.** The `handleSubmit` function in `src/components/Register.js` calls the `onRegister` prop, which is a function that navigates the user to the login page. It does not call the `addUser` function from `dataService.js` to create a new user. | 1. Go to the registration page. 2. Fill in the registration form with valid data. 3. Click the "Register" button. 4. The user is redirected to the login page, but no new user is created in `localStorage`. | Critical | Open |
| BUG-002 | **Login form does not perform any authentication.** The `login` function in `src/services/authService.js` does not check the user's password. It accepts any email and password and determines the user's role based on whether the email contains the word "admin". | 1. Go to the login page. 2. Enter any email and password. 3. Click the "Login" button. 4. The user is logged in, regardless of the credentials. | Critical | Open |
| BUG-003 | **Waste pickup scheduling form does not submit the request.** The `handleSubmit` function in `src/components/Home.js` does not call any function from `dataService.js` to submit the request. It only sets a success message and clears the form. | 1. Go to the "Schedule Pickup" page. 2. Fill in the form with valid data. 3. Click the "Submit Request" button. 4. A success message is displayed, but the request is not added to `localStorage`. | Critical | Open |
| BUG-004 | **Redundant `role` attribute on `article` elements.** The `article` element has an implicit role of `article`. Defining this explicitly is redundant and should be avoided. This issue is present in `src/components/blog/BlogArticle.js` and `src/components/community/CommunityFeed.js`. | 1. Run `npx eslint src` to see the warning. | Minor | Open |
| BUG-005 | **Passwords are stored in plain text.** The `addUser` function in `src/services/dataService.js` stores the user's password in plain text in `localStorage`. | 1. Register a new user. 2. Inspect the `localStorage` in the browser. 3. The user's password will be visible in plain text. | Critical | Open |
| BUG-006 | **Insecure Direct Object Reference (IDOR) vulnerability in `getUserById`.** The `getUserById` function in `src/services/dataService.js` takes a user ID as input and returns the user object. There is no authorization check to ensure that the logged-in user is authorized to view the requested user's data. | 1. Log in as a regular user. 2. Call the `getUserById` function with the ID of another user. 3. The function will return the other user's data, including their email and password. | High | Open |
| BUG-007 | **User enumeration vulnerability in `getUserByEmail`.** The `getUserByEmail` function in `src/services/dataService.js` can be used to check if a user with a specific email exists in the system. The function returns the user object if the email exists, and `null` otherwise. | 1. Call the `getUserByEmail` function with a valid email address. 2. The function will return the user object. 3. Call the `getUserByEmail` function with an invalid email address. 4. The function will return `null`. | Medium | Open |
